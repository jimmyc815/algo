<!DOCTYPE html> 
<html> 
    <head> 
        <title>Turtle Portfolio Simulation</title> 
		<link rel="stylesheet" type="text/css" href="styles/ui.jqgrid.css" /> 

		<link type="text/css" href="jquery-ui-1.8.17.custom/css/cupertino/jquery-ui-1.8.17.custom.css" rel="stylesheet" /> 
			<!--	<link type="text/css" href="jquery-ui-1.8.16.custom/css/sunny/jquery-ui-1.8.16.custom.css" rel="stylesheet" /> -->
		<link rel="stylesheet" type="text/css" href="styles/my_style.css" />

		<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>


	</head> 
    <body> 
        <header> 
            <h2>Portfolio Simulation with Turtle</h2> 
        </header> 
 		End Date  : <input  type="text" name="end_date" id="datepicker_end" />
					<br>
            <div id="runQuery">
				<form id="sqlForm" name="sqlForm" action="scripts/turtle.php" method="POST">
					<h4>Step 1: Choose starting date: (Default 1 Year Ago)</h4>
					
<div id="date_range_picker">
	<input type="radio" id="date_range_6_month" name="date_range_picker_check" value="date_range_6_month"><label for="date_range_6_month">6 Month</label>
	<input type="radio" id="date_range_1_year" name="date_range_picker_check" value="date_range_1_year"><label for="date_range_1_year">1 Year</label>
	<input type="radio" id="date_range_2_year" name="date_range_picker_check" value="date_range_2_year"><label for="date_range_2_year">2 Year</label>
	<input type="radio" id="date_range_3_year" name="date_range_picker_check" value="date_range_3_year"><label for="date_range_3_year">3 Year</label>
	<input type="radio" id="date_range_5_year" name="date_range_picker_check" value="date_range_5_year"><label for="date_range_5_year">5 Year</label>
</div>					
<p><br>
					
			Starting Date: <input  type="text" name="begin_date" id="datepicker_begin" />
		</p>
<p>Or choose a pre-defined period:</p>
<div id="date_range_picker2">
  <input type="radio" id="predefined_3_2009_to_3_2010" name="date_range_picker_check" value="predefined_3_2009_to_3_2010">
  <label for="predefined_3_2009_to_3_2010">3/2009 to 3/2010</label>
  <input type="radio" id="predefine_past_1_year" name="date_range_picker_check" value="predefine_past_1_year">
  <label for="predefine_past_1_year">Past 1 Year</label>
  <input type="radio" id="predefined_past_2_years" name="date_range_picker_check" value="predefined_past_2_years">
  <label for="predefined_past_2_years">Past 2 Years</label>
  <input type="radio" id="predefined_past_3_years" name="date_range_picker_check" value="predefined_past_3_years">
  <label for="predefined_past_3_years">Past 3 Years</label>
  <br>
</div>
<h4>Step 2: Break out signal</h4>
						<div id="buy_signal_check">
							<input type="radio" id="buy_55_high" name="buy_type" value="buy_55_high"><label for="buy_55_high">55 Day High</label>
							<input type="radio" id="buy_20_high" name="buy_type" value="buy_20_high"><label for="buy_20_high">20 Day High</label>
						</div>
					
					<br>
					<h4>Step 3: Break out stocks should be Order By                    </h4>
					<div id="order_by_check">

                      <p>
            
                        <input type="radio" id="order_by_pct_change" name="order_by_type" value="order_by_pct_change">
                        <label for="order_by_pct_change">
                          Percent Change   	</label>
                        :
                        <input name="valueOrderByPctChange" type="text" id="valueOrderByPctChange" size="3" maxlength="3">
                      %  </p>
                      <p>
                        <input type="radio" id="order_by_rel_vol" name="order_by_type" value="order_by_rel_vol">
                        <label for="order_by_rel_vol">Relative Volume </label> :
                        <input name="valueOrderByRelVol" type="text" id="valueOrderByRelVol" size="3" maxlength="3">
                      %</p>
                      <p>
                        <input type="radio" id="order_by_vsSpy" name="order_by_type" value="order_by_vsSpy">
                        <label for="order_by_vsSpy">Relative Strength VS S&amp;P 500 </label> :
                        <input name="valueOrderByVsSpy" type="text" id="valueOrderByVsSpy" size="3" maxlength="3">

                      %</p>

<input type="radio" id="order_by_split" name="order_by_type" value="order_by_split">
                        <label for="order_by_split">
                          Evenly Split Weight  	</label>
                  </div>
                  <br>
					<h4>Step 4: Stop Loss Type:</h4>


<div id="stop_loss_check">
	<input type="radio" id="check_1N" name="stop_loss_type" value="check_1N"><label for="check_1N">1X Avg Day Range</label>
	<input type="radio" id="check_2N" name="stop_loss_type" value="check_2N"><label for="check_2N">2X Avg Day Range</label>
	<input type="radio" id="check_8PCT" name="stop_loss_type" value="check_8PCT"><label for="check_8PCT">8% Maximum Loss From High</label>
	<input type="radio" id="check_50MA" name="stop_loss_type" value="check_50MA"><label for="check_50MA">50 Day MA</label>
	<input type="radio" id="check_200MA" name="stop_loss_type" value="check_200MA"><label for="check_200MA">200 Day MA</label>
</div>

					<br>
					<h4>Step 5: Additional Technical Filters</h4>
						<div id="additional_signal_ceck">
							<input type="radio" id="adx_filter" name="additional_signal" value="adx_filter"><label for="adx_filter">ADX</label>
							<input type="radio" id="mcad_filter" name="additional_signal" value="mcad_filter"><label for="mcad_filter">MCAD</label>
						</div>
					
					<br>

				  <h4>Step 6: Run simulation now:</h4>
					<input type="radio" id="simulateSubmit" name="simulateSubmit"/>
						<label for="simulateSubmit">Simulate</label>
					<input type="radio" id="stopSimulate" name="stopSimulate"/>
						<label for="stopSimulate">Stop Simulation</label>

					<br>
					<br>
					<input type="hidden" name="action" value="turtle" id="action">
				</form>
            </div>

<div id="progressbar"></div>


<h4><table id="algoResult"></table></h4>
<div id="pager3"></div>





<h4><table id="refData"></table></h4>
<div id="pager2"></div>

<h4><table id="dailyStockPickResult"></table></h4>
<div id="pager5"></div>

<table>
<td>
<div id="container" style="height: 400px; width: 900px"></div>
</td>
</table>


<table id="portfolioPerformanceResult" width="500" border="1">
  <tr>
    <th colspan="7" scope="col">Portfolio Performance</th>
  </tr>
  <tr>
    <td width="120">Max Return</td>
    <td width="120">Min Return</td>
    <td width="120">Begin Balance</td>
    <td width="120">End Balance</td>
  </tr>
  <tr>
    <td><input type="text" id="portMaxReturn" name="portMaxReturn" size="8" />
%</td>
    <td><input type="text" id="portMinReturn" name="portMinReturn" size="8" />
%</td>
    <td><input type="text" id="portBeginBalance" name="portBeginBalance" size="8" /></td>
    <td><input type="text" id="portEndBalance" name="portEndBalance" size="8" /></td>
  </tr>
</table>
<p>&nbsp;</p>
<table id="portfolioPerformanceResult2" width="500" border="1">
  <tr>
    <th colspan="4" scope="col">Transaction Performance</th>
  </tr>
  <tr>
    <td width="139">Transaction Count</td>
    <td width="167"> Probability (+) Tran</td>
    <td width="172"> Probability (-) Tran</td>
  </tr>
  <tr>
    <td><input type="text" id="totalTranCount" name="totalTranCount" size="8" /></td>
    <td><input name="posTranProb" type="text" id="posTranProb" size="8" maxlength="5" />
      %</td>
    <td><input name="negTranProb" type="text" id="negTranProb" size="8" maxlength="5" />
      %</td>
  </tr>
</table>
<p>&nbsp;</p>
<table id="tranPerformanceResult" width="906" height="131" border="1">
    <th colspan="8" scope="col">Individual Transaction Performance</th>
  <tr>
    <td width="103">Max Tran Return ($)</td>
    <td width="97">Min Tran Return ($)</td>
    <td width="97">Max Holding Days</td>
    <td width="107">Min Holding Days</td>
    <td width="109">Avg Holding Days</td>
    <td width="111">Max Tran R Multiples</td>
    <td width="119">Min Tran R Multiples</td>
    <td width="111">Avg Tran R Multiples</td>
  </tr>
  <tr>
    <td><input type="text" id="tranMaxReturn" name="tranMaxReturn" size="7" /></td>
    <td><input name="tranMinReturn" type="text" id="tranMinReturn" size="7" /></td>
    <td><input name="tranMaxHoldingDays" type="text" id="tranMaxHoldingDays" size="7" />
    Days</td>
    <td><input name="tranMinHoldingDays" type="text" id="tranMinHoldingDays" size="7" /> Days</td>
    <td><input name="tranAvgHoldingDays" type="text" id="tranAvgHoldingDays" size="7" /> Days</td>
    <td><input name="tranMaxRMul" type="text" id="tranMaxRMul" size="7" /></td>
    <td><input name="tranMinRMul" type="text" id="tranMinRMul" size="7" /></td>
    <td><input name="tranAvgRMul" type="text" id="tranAvgRMul" size="7" /></td>
  </tr>
</table>
<p> </p>
<table id="posTranPerformanceResult" width="906" height="131" border="1">
    <th colspan="8" bgcolor="#33CC99" scope="col">Positive Transaction Performance</th>
  </tr>
  <tr>
    <td width="103">Max Tran Return ($)</td>
    <td width="97">Min Tran Return ($)</td>
    <td width="97">Max Holding Days</td>
    <td width="107">Min Holding Days</td>
    <td width="109">Avg Holding Days</td>
    <td width="111">Max Tran R Multiples</td>
    <td width="119">Min Tran R Multiples</td>
    <td width="111">Avg Tran R Multiples</td>
  </tr>
  <tr>
    <td><input name="posTranMaxReturn" type="text" id="posTranMaxReturn" size="7" /></td>
    <td><input name="posTranMinReturn" type="text" id="posTranMinReturn" size="7" /></td>
    <td><input name="posTranMaxHoldingDays" type="text" id="posTranMaxHoldingDays" size="7" />
    Days</td>
    <td><input name="posTranMinHoldingDays" type="text" id="posTranMinHoldingDays" size="7" /> Days</td>
    <td><input name="posTranAvgHoldingDays" type="text" id="posTranAvgHoldingDays" size="7" /> Days</td>
    <td><input name="posTranMaxRMul" type="text" id="posTranMaxRMul" size="7" /></td>
    <td><input name="posTranMinRMul" type="text" id="posTranMinRMul" size="7" /></td>
    <td><input name="posTranAvgRMul" type="text" id="posTranAvgRMul" size="7" /></td>
  </tr>
</table>
<p></p>
<table id="negTranPerformanceResult" width="906" height="131" border="1">
    <th colspan="8" bgcolor="#FF0000" scope="col">Negative Transaction Performance</th>
  </tr>
  <tr>
    <td width="103">Max Tran Return ($)</td>
    <td width="97">Min Tran Return ($)</td>
    <td width="97">Max Holding Days</td>
    <td width="107">Min Holding Days</td>
    <td width="109">Avg Holding Days</td>
    <td width="111">Max Tran R Multiples</td>
    <td width="119">Min Tran R Multiples</td>
    <td width="111">Avg Tran R Multiples</td>
  </tr>
  <tr>
    <td><input name="negTranMaxReturn" type="text" id="negTranMaxReturn" size="7" /></td>
    <td><input name="negTranMinReturn" type="text" id="negTranMinReturn" size="7" /></td>
    <td><input name="negTranMaxHoldingDays" type="text" id="negTranMaxHoldingDays" size="7" />
    Days</td>
    <td><input name="negTranMinHoldingDays" type="text" id="negTranMinHoldingDays" size="7" /> Days</td>
    <td><input name="negTranAvgHoldingDays" type="text" id="negTranAvgHoldingDays" size="7" /> Days</td>
    <td><input name="negTranMaxRMul" type="text" id="negTranMaxRMul" size="7" /></td>
    <td><input name="negTranMinRMul" type="text" id="negTranMinRMul" size="7" /></td>
    <td><input name="negTranAvgRMul" type="text" id="negTranAvgRMul" size="7" /></td>
  </tr>
</table>
<p>&nbsp;</p>
<h4><table id="portfolioResult"></table></h4>
<div id="pager4"></div>

<h4><table id="transactionResult"></table></h4>
<div id="pager6"></div>

<h4><table id="transactionPandL"></table></h4>
<div id="pager7"></div>

<div id="dialog" title="Title Box">
</div>

<!--<a href="#" onclick="jQuery('#dialog').load('stock_chart.html?symbol=AAPL').dialog('open'); return false">Click to view</a>
-->

<a href="#" onclick="window.open('stock_chart.html?symbol=AAPL', 'Stock ,Charts', 'height=430,width=920,left=100,top=100,resizable=yes,scrollbars=yes,toolbar=yes,menubar=no,location=no,directories=no, status=yes');">Click to view</a>




        <script src="scripts/jquery-1.6.2.min.js"></script> 
		<script src="jquery-ui-1.8.17.custom/js/jquery-ui-1.8.17.custom.min.js"></script>
        <script src="scripts/jquery.idTabs.min.js"></script> 
        <script src="scripts/jstable_json.js"></script> 
        <script src="scripts/json.htmTable.js"></script> 
		<script src="scripts/grid.locale-en.js" type="text/javascript"></script>
        <script src="Highstock-1.1.5/js/highstock.js"></script> 
        <script src="Highstock-1.1.5/js/modules/exporting.js"></script> 

		<script src="js/jquery.jqGrid.min.js" type="text/javascript"></script>


        <script src="scripts/turtle_portfolio.js"></script> 
	

		<script type="text/javascript">
			var currentTime = new Date()
			var month = currentTime.getMonth() + 1
			var day = currentTime.getDate()
			var year = currentTime.getFullYear()
			var last_year = currentTime.getFullYear()-1
			var today_date = month + "/" + day + "/" + year;
			var year_ago_date = month + "/" + day + "/" + last_year;
			document.getElementById("datepicker_end").value = today_date;

			document.getElementById("datepicker_begin").value = year_ago_date;

			document.getElementById("valueOrderByPctChange").value = 100;
			document.getElementById("valueOrderByRelVol").value = 0;
			document.getElementById("valueOrderByVsSpy").value = 0;


		</script>
		
    </body> 
</html>